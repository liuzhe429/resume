<?php
require_once "jssdk.php";
require_once "pv.php";
$jssdk = new JSSDK("wxe49221fafce06151", "aa4b0fe6a8f1122514b1ab935316d8a9");
$signPackage = $jssdk->GetSignPackage();
$pv = new pv();
?>

<!DOCTYPE html>
<html class="webapp" 
  data-design="640/1010" 
  data-uiwebview="0/32" 
  data-mode="scale" 
  data-widget-mode="everytime" 
  data-scroll="vertical" 
  data-scene-loop="true" 
  data-scene-deg="28"
  data-scene-duration="0.4" 
  data-scene-timing="ease" 
  data-scene-perspective="300px" id="webapp">
<head>
<meta charset="utf-8">
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Cache-Control" content="no-cache">
<meta http-equiv="Expires" content="-1" />
<meta name="viewport" content="user-scalable=no, minimal-ui, target-densitydpi=device-dpi" />
<meta content="yes" name="apple-mobile-web-app-capable">
<meta content="black" name="apple-mobile-web-app-status-bar-style">
<meta content="telephone=no" name="format-detection">
<meta content="email=no" name="format-detection">
<meta content="60942" name="appId">
<meta name="viewport" content="width=device-width, minimum-scale=0.5, maximum-scale=0.5">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>中华V3 敞开想 放肆动</title>
<link rel="stylesheet" type="text/css" href="css/g.css">
<link rel="stylesheet" type="text/css" href="css/animate.css">
<link rel="stylesheet" type="text/css" href="css/app.css">
<style type="text/css">
article{background-color: #2B2B2B;}
article.webapp-view{opacity: 0;}
.transparent{opacity:1}
.opaque{opacity:1}
.widget{position: absolute;}
.table{display: table;}
.table .table-cell{display: table-cell;}
.table .table-cell.vtop{vertical-align: top;}
.table .table-cell.vmiddle{vertical-align: middle;}
.table .table-cell.vbottom{vertical-align: bottom;}
.innerbox{z-index: 1;}
.photo{-webkit-transform:scale(3) rotateZ(30deg) translate(80%,80%) translateZ(0); transform:scale(3) rotateZ(30deg) translate(80%,80%) translateZ(0);}
.photo-static{-webkit-transform:scale(0.9) rotateZ(0deg) translate(0%,0%) translateZ(0); transform:scale(0.9) rotateZ(0deg) translate(0%,0%) translateZ(0);}
.copyright{-webkit-transform: translate(0,0) translateZ(0); transform: translate(0,0) translateZ(0);}
.page-loaded{
  -webkit-animation-name: fadeIn;
          animation-name: fadeIn;
  -webkit-animation-duration: .75s;
          animation-duration: .75s;
  -webkit-animation-fill-mode: forwards;
          animation-fill-mode: forwards;
}
.video-frame{
  width: 100%;
  height: 100%;
}
.video-frame iframe{
  width: 100%;
  height: 498px;
}
</style>
<script>
var G_MASKLAYER_OPTIONS = [];
</script>
<script type="text/template" name="wx">

imgUrl=/newadmin/res/img/nopic150x150.jpg;
lineLink=/a/60942_0;
descContent=111;
shareTitle=吉利;
imgWidth=200;
imgHeight=200;
appid=;
shareClick=http://click.zuiku.com/share.jsp?appId=60942
</script>
</head>
<body >

<article class="webapp-view none-header none-footer" id="view"  >
<!--  001-->
    <section data-appid="84832" data-moduleid="817577" data-index="0" data-sn="0" style="z-index:100;">
      <!-- 背景 -->
      <div class="innerbox fullbg" style="background-image:url(images/logo/bg.jpg)">
        <!-- shadow -->
        <div data-appid="84931" data-moduleid="3452746" id="widget_3452746"  class="widget ipic hidden " style="z-index:1;  left:0px; top:155px;  width:640px; height:640px;" data-widget="animation::zoomIn:!1.0s ease 0.0s 1 forwards">
            <img data-action="Action://redirect#0,,0,0" src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/shadow.png" >
        </div>
        <!--detail1图片控件-->
       <div data-appid="84931" data-moduleid="3453095" id="widget_3453095"  class="widget ipic hidden " style="z-index:4;  opacity:0;left:-144px; top:144px;  width:148px; height:148px;" data-widget="animation::fadeOutRight:!0.5s ease 1s 1 forwards">
          <img data-action="Action://redirect#0,,0,0" src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/detail/detail1.png" >
      </div>
         
     <!--detail2图片控件-->
       <div data-appid="84931" data-moduleid="3453238" id="widget_3453238"  class="widget ipic hidden " style="z-index:4;  opacity:0;right:0px; top:375px;  width:148px; height:148px;" data-widget="animation::fadeOutLeft2:!0.5s ease 1s 1 forwards">
          <img data-action="Action://redirect#0,,0,0" src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/detail/detail2.png" >
      </div>
      <div style="position:absolute;top:50%;left:50%;width:144px;height:144px;border-radius:144px;background:red;margin-left:-72px;margin-top:-132px;opacity:0;">
        
      </div>
       <!--333图片控件-->
       <div data-appid="84931" data-moduleid="3453276" id="widget_3453276"  class="widget ipic hidden " style="z-index:4;  opacity:0;left:-12px; top:664px;  width:148px; height:148px;" data-widget="animation::fadeOutRight3:!0.5s ease 1.5s 1 forwards">
          <img data-action="Action://redirect#0,,0,0" src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/detail/detail3.png" >
      </div>
    
     <!--444图片控件-->
       <div data-appid="84931" data-moduleid="3453356" id="widget_3453356"  class="widget ipic hidden " style="z-index:4;  opacity:0;right:0px; top:154px;  width:148px; height:148px;" data-widget="animation::fadeOutLeft4:!0.5s ease 1.5s 1 forwards">
          <img data-action="Action://redirect#0,,0,0" src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/detail/detail4.png" >
      </div>


       <!--555图片控件-->
       <div data-appid="84931" data-moduleid="3453439" id="widget_3453439"  class="widget ipic hidden " style="z-index:4;  opacity:0;left:4px; top:370px;  width:148px; height:148px;" data-widget="animation::fadeOutRight5:!0.5s ease 2s 1 forwards">
          <img data-action="Action://redirect#0,,0,0" src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/detail/detail5.png" >
      </div>
    
     <!--666图片控件-->
       <div data-appid="84931" data-moduleid="3453444" id="widget_3453444"  class="widget ipic hidden " style="z-index:4;  opacity:0;left:490px; top:670px;  width:148px; height:148px;" data-widget="animation::fadeOutLeft6:!0.5s ease 2s 1 forwards">
          <img data-action="Action://redirect#0,,0,0" src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/detail/detail6.png" >
      </div>

        <!--car图片控件-->
       <div data-appid="84931" data-moduleid="3454189" id="widget_3454189"  class="widget ipic hidden " style="z-index:3;  opacity:0;left:0px; top:155px;  width:640px; height:640px;" data-widget="animation::zoomIn2:!1.0s ease 3.5s 1 forwards">
          <img data-action="Action://redirect#0,,0,0" src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/car.png" >
      </div>
    
     <!--light图片控件-->
       <div data-appid="84931" data-moduleid="3454592" id="widget_3454592"  class="widget ipic hidden " style="z-index:9;  opacity:0;left:0px; top:155px;  width:640px; height:640px;" data-widget="animation::fadeOut:!1.5s ease 2.5s 1 forwards">
          <img data-action="Action://redirect#0,,0,0" src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/light.png" >
      </div>
       <!--title1图片控件-->
       <div data-appid="84931" data-moduleid="3454813" id="widget_3454813"  class="widget ipic hidden " style="z-index:10;  opacity:0;left:-4px; top:120px;  width:640px; height:112px;" data-widget="animation::fadeInLeftBig:!1.0s ease 4.5s 1 forwards">
          <img data-action="Action://redirect#0,,0,0" src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/title1.png" >
      </div>
           <!--title2图片控件-->
       <div data-appid="84931" data-moduleid="3454888" id="widget_3454888"  class="widget ipic hidden " style="z-index:11;  opacity:0;left:12px; top:228px;  width:640px; height:48px;" data-widget="animation::fadeInRightBig:!1.0s ease 4.5s 1 forwards">
          <img data-action="Action://redirect#0,,0,0" src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/title2.png" >
      </div>

      <!--button1图片控件-->
       <div data-appid="84931" data-moduleid="3455112" id="widget_3455112"  class="widget ipic hidden " style="z-index:12;  opacity:0; left:4px; top:608px;  width:640px; height:88px;" data-widget="animation::fadeInRightBig:!1.0s ease 5.5s 1 forwards">
          <a href="http://www.qctt.cn/index/news/show/id/56124"><img  src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/button1.png" >
          </a>
      </div>
     <!--button2图片控件-->
       <div data-appid="84931" data-moduleid="3455281" id="widget_3455281"  class="widget ipic hidden " style="z-index:13;  opacity:0; left:2px; top:694px;  width:640px; height:88px;" data-widget="animation::fadeInRightBig:!1.0s ease 6s 1 forwards">
          <a href="http://www.qctt.cn/index/news/show/id/56122">
            <img  src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/button2.png" >
          </a>
      </div>
           <!--button3图片控件-->
       <div data-appid="84931" data-moduleid="3455372" id="widget_3455372"  class="widget ipic hidden " style="z-index:14; opacity:0; left:0px; top:790px;  width:640px; height:88px;" data-widget="animation::fadeInRightBig:!1.0s ease 6.5s 1 forwards">
          <a href="index02.html"><img src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/button3.png" ></a>
      </div>

     <!--button4图片控件-->
       <div data-appid="84931" data-moduleid="3455386" id="widget_3455386"  class="widget ipic hidden " style="z-index:15; opacity:0; left:-2px; top:872px;  width:640px; height:88px;" data-widget="animation::fadeInRightBig:!1.0s ease 7s 1 forwards">
          <img data-action="Action://redirect#1,,0,0" src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/button4.png" >
      </div>

        <!--logo图片控件-->
       <div data-appid="84931" data-moduleid="3455640" id="widget_3455640"  class="widget ipic hidden " style="z-index:16;  opacity:0; left:0px; top:19px;  width:640px; height:96px;" data-widget="animation::fadeInDown:!1.0s ease 5.5s 1 forwards">
          <img data-action="Action://redirect#0,,0,0" src="about:blank" style="border: 1px none rgb(0, 0, 0);;  width:100%; height:100%; -webkit-transform:rotate(0deg); transform:rotate(0deg); opacity:1.0;" data-lazysrc="src!images/logo/logo.png" >
      </div>
    
      
   </div> 
     <!-- 背景结束 -->

    </section>
</article>

<div id="submit_tips" data-offset="-9999"></div>



<script src="js/wxqq.js"></script>
<script>
  /*
   * 注意：
   * 1. 所有的JS接口只能在公众号绑定的域名下调用，公众号开发者需要先登录微信公众平台进入“公众号设置”的“功能设置”里填写“JS接口安全域名”。
   * 2. 如果发现在 Android 不能分享自定义内容，请到官网下载最新的包覆盖安装，Android 自定义分享接口需升级至 6.0.2.58 版本及以上。
   * 3. 常见问题及完整 JS-SDK 文档地址：http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html
   *
   * 开发中遇到问题详见文档“附录5-常见错误及解决办法”解决，如仍未能解决可通过以下渠道反馈：
   * 邮箱地址：weixin-open@qq.com
   * 邮件主题：【微信JS-SDK反馈】具体问题
   * 邮件内容说明：用简明的语言描述问题所在，并交代清楚遇到该问题的场景，可附上截屏图片，微信团队会尽快处理你的反馈。
   */
  wx.config({
    debug: false,
    appId: '<?php echo $signPackage["appId"];?>',
    timestamp: <?php echo $signPackage["timestamp"];?>,
    nonceStr: '<?php echo $signPackage["nonceStr"];?>',
    signature: '<?php echo $signPackage["signature"];?>',
    jsApiList: [
	'checkJsApi',
        'onMenuShareTimeline',
        'onMenuShareAppMessage',
        'onMenuShareQQ',
        'onMenuShareWeibo',
        'hideMenuItems',
        'showMenuItems',
        'hideAllNonBaseMenuItem',
        'showAllNonBaseMenuItem',
        'translateVoice',
        'startRecord',
        'stopRecord',
        'onRecordEnd',
        'playVoice',
        'pauseVoice',
        'stopVoice',
        'uploadVoice',
        'downloadVoice',
        'chooseImage',
        'previewImage',
        'uploadImage',
        'downloadImage',
        'getNetworkType',
        'openLocation',
        'getLocation',
        'hideOptionMenu',
        'showOptionMenu',
        'closeWindow',
        'scanQRCode',
        'chooseWXPay',
        'openProductSpecificView',
        'addCard',
        'chooseCard',
        'openCard'
      // 所有要调用的 API 都要加到这个列表中
    ]
  });
 
</script>

<script src="js/demo.js"> </script>

<script>
(function(){
	var ImageLoader = window["ImageLoader"] = function(){
		this.images = [];
		this.counter = {
			success: 0,
			failed: 0
		};
	};

	ImageLoader.prototype = {
		add: function(url){
			this.images.push(url);
			return this;
		},
		notify: function(key){
			this.counter[key]++;

			var counter = this.counter;
			var size = this.images.length;
			var loaded = counter.success + counter.failed;
			var percent = Math.min(((loaded / size) * 100).toFixed(0), 100);
			var nShadow = document.querySelector(".loading-shadow");
			var nPercent = document.querySelector(".loading-percent");

			if(nShadow){
				nShadow.style.height =  (100 - percent) + "%";
			}
			if(nPercent){
				nPercent.innerHtml = (percent + "%");
			}

			ImageLoader.complete = (loaded >= size);
		},
		load: function(){
			var imgs = this.images;
			var size = imgs.length;

			ImageLoader.startTime = (new Date().getTime());

			for(var i = 0; i < size; i++){
				ImageLoader.loader(this, imgs[i]);
			}
		}
	};

	ImageLoader.start = 0;
	ImageLoader.complete = false;
	ImageLoader.loader = function(imageLoader, url){
		var img = new Image();

		img.onload = function(){
			imageLoader.notify("success");

			img = null;
		};

		img.onerror = function(){
			imageLoader.notify("failed");

			img = null;
		}

		img.src = url;
	};
	ImageLoader.timeout = function(){
		var end = (new Date().getTime());
		var diff = end - ImageLoader.start;

		return (diff >= 5000);
	};

	
})();
</script> 
<script src="js/se-mix.js"></script> 
<script>
for(var i = 0; i < G_MASKLAYER_OPTIONS.length; i++){
	if(G_MASKLAYER_OPTIONS[i].backImage){
		new Image().src = G_MASKLAYER_OPTIONS[i].backImage;
	}
}
seajs.use(["logic/default/webapp.2225100f0402be2fe313282a187785f170cd1856"], function(app){

  app.app.set("ready", {
      callback: function(success){
          this.appReady = true;
          if(!success){
              alert("场景应用加载失败");
          }
      },
      context: app.app
  });

	var layout = app.app.layout;
	var design = layout.design;

	var timer = app.app.getTimer("default", 2.5, {
		  callback: function(_timer){
      if(this.appReady){
    			if(ImageLoader.complete || ImageLoader.timeout()){
    				  var loading = $(".webapp-loading");

              if(loading.length > 0){
                  loading.addClass("hide");
              }

              _timer.stop();
              
              this.view.addClass("page-loaded");
    			}
      }
		  },
		  context: app.app
	});

	timer.start();

  	setTimeout(function(){
      	
      	for(var i = 0; i < G_MASKLAYER_OPTIONS.length; i++){
			var maskOptions = G_MASKLAYER_OPTIONS[i];
			var id = "#masklayer_" + maskOptions.key;
			var stage = document.querySelector(id);
			if(!stage || !maskOptions.frontImage || !maskOptions.backImage){continue;}
			var maskLayer = new app.MaskLayer(stage);

      var width = design.width;
      var height = design.height;

      maskLayer
           .setBrushSize(55)
					 .setBlurRadius(0)
					 .setScratchText({
    						font: "80px Arial",
    						textAlign: "center", 
    						textBaseline: "middle", 
    						color: "#000", 
    						x: width / 2, 
    						y: height * 0.8, 
    						text:maskOptions.maskText
					  })
			    .setReady({
  						callback: function(id, backImage){
  							$(id).parent().css("background-image", "url(" + backImage + ")");
  						},
  						args: [id, maskOptions.backImage]
					})
					.setComplete({
						callback : function(remain, removed, id){
							var total = remain + removed;

							//解决Android下渲染问题
							$(id).width(width - 0.001) //根据实际情况调整
							.width(width);  //根据实际情况调整

							if(remain / total <= 0.75){
								this.clean();
								$(id).remove();
								$(id).attr("data-lockapp", "0");
								app.app.setLocked(false);
							}
						},
						context: maskLayer,
						args: [id]  
					})
				  .paintImage("about:blank", maskOptions.frontImage, 
									0, 0, width, height,
									0, 0, width, height);
	    }//end for
      	app.app.create();

      
  }, 200);
});
</script> 
</body>
</html>
