{"version":3,"sources":["webpack:///./src/views/register-login/reg-login.vue?e916","webpack:///./src/assets/guanbi.png","webpack:///./src/libs/utils.js","webpack:///./src/views/register-login/reg-login.vue?933c","webpack:///src/views/register-login/reg-login.vue","webpack:///./src/views/register-login/reg-login.vue?86bd","webpack:///./src/views/register-login/reg-login.vue?d48a"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_reg_login_vue_vue_type_style_index_0_id_e9ac8e84_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_reg_login_vue_vue_type_style_index_0_id_e9ac8e84_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","module","exports","login","obj","Promise","resolve","that","_obj$url","url","mobile","password","$service","post","then","res","code","$Cookies","set","data","token","showToastOnly","msg","_obj$time","time","_obj$type","type","toast","$createToast","txt","show","secrecyMobile","test","replace","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","fixed","slot","on","click","handleClose","staticStyle","width","height","src","alt","label","placeholder","model","value","callback","$$v","expression","$event","handleGetMsg","class","sendSmsBtnDisabled","_v","_s","sendBtnText","_e","canLoginClick","handleRegisterOrLogin","canRegClick","staticRenderFns","reg_loginvue_type_script_lang_js_","reg_show","eye","open","watch","val","verifyMsg","methods","$router","go","countDown","_this","interval","setInterval","clearInterval","showToastTxtOnly","needToast","phonereg","phoneNum","Object","utils","_this2","js_cookie_default","a","get","catch","_this3","flag","verifyCode","name","canClick","register_login_reg_loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-009fc5cc.2bae3bed.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reg-login.vue?vue&type=style&index=0&id=e9ac8e84&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reg-login.vue?vue&type=style&index=0&id=e9ac8e84&lang=less&scoped=true&\"","module.exports = \"data:image/png;base64,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\"","/**\n * 登录方法 封装\n * @param {*} obj \n */\nexport function login(obj) {\n  return new Promise((resolve) => {\n    let {that, url = '/login', mobile, password} = obj;\n    that.$service.post(url, {\n      mobile: mobile,\n      password: password\n    }, true).then(res => {\n      if (res.code === 0) {\n        that.$Cookies.set('token', res.data.token);\n      }\n      resolve(res);\n    })\n  })\n}\n/**\n * toast 封装\n * @param {*} obj \n */\nexport function showToastOnly(obj) {\n  let {that, msg, time = 2000, type = 'txt'} = obj;\n  that.toast = that.$createToast({\n    txt: msg,\n    type: type,\n    time: time,\n  })\n  that.toast.show()\n}\n/**\n * 手机号隐私保护\n * @param mobile\n * @returns {*}\n */\nexport function secrecyMobile (mobile){\n  if (!/\\d{11}/.test(mobile)) {\n      return mobile;\n  }\n  return mobile.replace(/(\\d{3})(\\d{4})(\\d{4})/, '$1****$3');\n}\nexport default {\n  login: login,\n  showToastOnly: showToastOnly,\n  secrecyMobile: secrecyMobile\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p_home_page\"},[_c('mt-header',{attrs:{\"fixed\":\"\"}},[_c('mt-button',{attrs:{\"slot\":\"left\"},on:{\"click\":_vm.handleClose},slot:\"left\"},[_c('img',{staticStyle:{\"width\":\"25px\",\"height\":\"25px\"},attrs:{\"src\":require(\"@/assets/guanbi.png\"),\"alt\":\"\"}})])],1),_c('mt-field',{staticClass:\"input_msg\",attrs:{\"label\":\"手机号\",\"placeholder\":\"手机号\"},model:{value:(_vm.mobile),callback:function ($$v) {_vm.mobile=$$v},expression:\"mobile\"}}),(_vm.reg_show)?_c('mt-field',{staticClass:\"input_msg\",attrs:{\"label\":\"验证码\",\"placeholder\":\"请输入验证码\"},model:{value:(_vm.msg),callback:function ($$v) {_vm.msg=$$v},expression:\"msg\"}},[_c('div',{staticClass:\"msg_btn_container\",on:{\"click\":function($event){return _vm.handleGetMsg(_vm.mobile)}}},[_c('span',{staticClass:\"msg_btn\",class:['msg_btn', _vm.sendSmsBtnDisabled ? '' : 'active']},[_vm._v(_vm._s(_vm.sendBtnText))])])]):_vm._e(),_c('mt-field',{staticClass:\"input_msg\",attrs:{\"label\":\"密码\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticClass:\"btn_line\"},[_c('cube-button',{staticClass:\"btn_click\",on:{\"click\":function($event){_vm.canLoginClick ? _vm.handleRegisterOrLogin('login') : ''}}},[_vm._v(\"登录\")]),_c('cube-button',{staticClass:\"btn_click\",on:{\"click\":function($event){_vm.canRegClick ? _vm.handleRegisterOrLogin('reg') : ''}}},[_vm._v(\"注册\")])],1),_c('p',{staticClass:\"register_tips\"},[_vm._v(\"没有注册的用户清先注册再登录\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"p_home_page\">\n    <mt-header fixed>\n      <mt-button slot=\"left\" @click=\"handleClose\">\n        <img src=\"@/assets/guanbi.png\" alt=\"\" style=\"width:25px;height:25px;\"/>\n      </mt-button>\n    </mt-header>\n    <mt-field label=\"手机号\" v-model=\"mobile\" class=\"input_msg\" placeholder=\"手机号\"></mt-field>\n    <mt-field v-if=\"reg_show\" label=\"验证码\" v-model=\"msg\" class=\"input_msg\" placeholder=\"请输入验证码\">\n      <div class=\"msg_btn_container\" @click=\"handleGetMsg(mobile)\">\n        <span class=\"msg_btn\" :class=\"['msg_btn', sendSmsBtnDisabled ? '' : 'active']\">{{sendBtnText}}</span>\n      </div>\n    </mt-field>\n    <mt-field label=\"密码\" v-model=\"password\" class=\"input_msg\" placeholder=\"请输入密码\"></mt-field>\n    <div class=\"btn_line\">\n      <cube-button class=\"btn_click\" @click=\"canLoginClick ? handleRegisterOrLogin('login') : ''\">登录</cube-button>\n      <cube-button class=\"btn_click\" @click=\"canRegClick ? handleRegisterOrLogin('reg') : ''\">注册</cube-button>\n    </div>\n    <p class=\"register_tips\">没有注册的用户清先注册再登录</p>\n  </div>\n</template>\n<script>\nimport Cookies from 'js-cookie';\nimport {showToastOnly} from '@/libs/utils';\nexport default {\n  data() {\n    return {\n      reg_show: false,\n      mobile: '',\n      password: '',\n      msg: '',\n      time: 60,\n      sendBtnText: '获取验证码',\n      sendSmsBtnDisabled: true,\n      canRegClick: true,\n      canLoginClick: true,\n      eye: {\n        open: false\n      }\n    }\n  },\n  watch:{\n    mobile(val) {\n      this.sendSmsBtnDisabled = !this.verifyMsg(val);\n    }\n  },\n  methods: {\n    handleClose() {\n      this.$router.go(-1);\n    },\n    //  倒计时\n    countDown(){\n      let time = this.time;\n      let interval = setInterval(() => {\n        time--;\n        if (this.time === 0) {\n          clearInterval(interval);\n          this.sendBtnText = '重新发送';\n          this.sendSmsBtnDisabled = false;\n          return;\n        }\n        this.time = time,\n        this.sendBtnText = this.time + 's';\n        this.sendSmsBtnDisabled = true;\n      }, 1000);\n    },\n    showToastTxtOnly(obj) {\n      let {msg, time = 2000, type='txt'} = obj;\n      this.toast = this.$createToast({\n        txt: msg,\n        type: type,\n        time: time,\n      })\n      this.toast.show()\n    },\n    verifyMsg(mobile, needToast){\n      let phonereg = /^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/;\n      if (this.phoneNum === '') {\n        needToast && showToastOnly({\n          that: this,\n          msg: '手机号不能为空哦',\n          time: 2000\n        });\n        return false;\n      } else if (!phonereg.test(mobile)) {\n        needToast && showToastOnly({\n          that: this,\n          msg: '请输入正确的手机号',\n          time: 2000\n        });\n        return false;\n      }\n      return true;\n    },\n    handleGetMsg(mobile) {\n      if (!this.verifyMsg(mobile, true)) return;\n      if (this.sendSmsBtnDisabled === true && this.time > 0) return;\n      this.$service.post('/getVerifyCode', {\n        token: Cookies.get('ip_token'),\n        mobile: this.mobile,\n      }, true).then(res => {\n        if (res.code === 0) {\n          this.time = 60;\n          this.countDown();\n          showToastOnly({\n            that: this,\n            msg: '发送成功',\n            time: 1000\n          });\n        } else {\n          showToastOnly({\n            that: this,\n            msg: res.msg,\n            time: 2000\n          });\n        }\n      }).catch(() => {\n        // console.log(err);\n      });\n    },\n    handleRegisterOrLogin(type){\n      if (type === 'reg' && this.reg_show === false) {\n        this.reg_show = true;\n      }\n      let flag = this.verifyMsg(this.mobile, true);\n      if (flag) {\n        if (type === 'reg' && !/^\\d{6}$/.test(this.msg)) {\n          showToastOnly({\n            that: this,\n            msg: '请输入正确的验证码',\n            time: 1000\n          });\n          return false;\n        } else if (this.password === '') {\n          showToastOnly({\n            that: this,\n            msg: '请输入密码',\n            time: 2000\n          });\n          return false;\n        } else {\n          let url = '';\n          if (type === 'login') {\n            // canLoginClick\n            url = '/api/login';\n            this.canLoginClick = false;\n          } else {\n            url = '/api/regist';\n            this.canRegClick = false;\n          }\n          this.$service.post(url, {\n            mobile: this.mobile,\n            password: this.password,\n            verifyCode: '123456',\n            name: 'arlene'\n          }, true).then(res => {\n            if (res.code !== 0) {\n              type === 'login' ? this.canLoginClick = true : this.canClick = true;\n            } else {\n              type === 'login' &&  Cookies.set('token', res.data.token);\n              type === 'reg' && showToastOnly({\n                that: this,\n                msg: '注册成功',\n                time: 2000\n              });\n            }\n          })\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.p_home_page{\n  padding:55px 10px 10px;\n  margin-top: 40px;\n  color: #101010;\n  .register_title{\n    font-size: 28px;\n    text-align: left;\n    margin:20px 0 15px;\n  }\n  .register_tips{\n    text-align: left;\n    text-indent: 10px;\n    margin-top: 18px;\n  }\n  .input_cell {\n    border: none;\n    background:#F2F2F2;\n    margin-bottom: 10px;\n  }\n  \n  .input_msg{\n    background:#F2F2F2;\n    margin-bottom: 10px;\n    color: #101010;\n    height: 45px;\n  }\n  .msg_btn_container {\n    width: 123px;\n    height: 100%;\n  }\n  /deep/ .mint-field-other{\n    height: 100%;\n  }\n  .msg_btn {\n    width:123px;background: rgba(245, 105, 104, 0.5);color:#fff;height:100%;line-height:45px;display:block;\n    &.active{\n      background: rgba(245, 105, 104, 1);\n    }\n  }\n  /deep/ .mint-field .mint-cell-title{\n    width: 60px;\n    margin-right: 10px;\n  }\n  /deep/ .mint-cell-wrapper{\n    // padding-right: 0;\n  }\n  .btn_line{\n    display: flex;\n    justify-content: space-around;\n    .btn_click{\n      background: #F76968;\n      // border: 2px solid #F76968;\n      // color: #F76968;\n      font-size: 16px;\n      margin: 10px;\n    }\n  }\n}\n</style>\n\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--16-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reg-login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??ref--16-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reg-login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./reg-login.vue?vue&type=template&id=e9ac8e84&scoped=true&\"\nimport script from \"./reg-login.vue?vue&type=script&lang=js&\"\nexport * from \"./reg-login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./reg-login.vue?vue&type=style&index=0&id=e9ac8e84&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e9ac8e84\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}