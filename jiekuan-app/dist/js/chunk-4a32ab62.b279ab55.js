(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a32ab62"],{"7fae":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"admin_p_user_page"},[o("el-button",{staticClass:"back_btn",attrs:{type:"primary"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")]),o("div",{staticClass:"title"},[t._v("申请列表")]),o("ul",{staticClass:"user_list"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderList,border:""}},[o("el-table-column",{attrs:{prop:"id",label:"id"}}),o("el-table-column",{attrs:{prop:"loan_name",label:"姓名"}}),o("el-table-column",{attrs:{label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.sex?o("span",[t._v("男")]):t._e(),2===e.row.sex?o("span",[t._v("女")]):t._e()]}}])}),o("el-table-column",{attrs:{prop:"contact",label:"手机号"}}),o("el-table-column",{attrs:{prop:"loan_type",width:"160px",label:"借款类型"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"===e.row.loan_type?o("span",[t._v("身份证")]):t._e(),"2"===e.row.loan_type?o("span",[t._v("信用卡")]):t._e(),"3"===e.row.loan_type?o("span",[t._v("精英")]):t._e()]}}])}),o("el-table-column",{attrs:{prop:"amount",label:"借款金额"}}),o("el-table-column",{attrs:{prop:"audit_money",label:"审批的金额"}}),o("el-table-column",{attrs:{label:"借款分期"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.periods)+"期")])]}}])}),o("el-table-column",{attrs:{label:"借款类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.audit_status?o("span",[t._v("审核中")]):t._e(),1===e.row.audit_status?o("span",[t._v("已通过")]):t._e(),2===e.row.audit_status?o("span",[t._v("被拒")]):t._e()]}}])}),o("el-table-column",{attrs:{prop:"income",label:"年收入"}}),o("el-table-column",{attrs:{label:"车贷"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.car_loan?o("span",[t._v("有")]):t._e(),2===e.row.car_loan?o("span",[t._v("无")]):t._e()]}}])}),o("el-table-column",{attrs:{label:"房贷"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.housing_loan?o("span",[t._v("有")]):t._e(),2===e.row.housing_loan?o("span",[t._v("无")]):t._e()]}}])}),o("el-table-column",{attrs:{prop:"idcard",label:"身份证号"}}),o("el-table-column",{attrs:{prop:"credit_limit",label:"信用额度"}}),o("el-table-column",{attrs:{prop:"birth",label:"出生年月日"}}),o("el-table-column",{attrs:{prop:"create_time",label:"申请时间"}}),o("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return t.shenheApply(e.row,1)}}},[t._v("通过")]),o("i",{staticStyle:{margin:"0 2px"}}),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return t.shenheApply(e.row,2)}}},[t._v("拒绝")]),o("i",{staticStyle:{margin:"0 2px"}}),1!==e.row.repay_status?o("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(o){return t.add(e.row)}}},[t._v("还款")]):t._e()]}}])})],1)],1),o("el-dialog",{attrs:{title:"借款申请",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{"label-width":"100px"}},[o("el-form-item",{attrs:{label:"审批金额"}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入最高审批金额"},model:{value:t.auditMoney,callback:function(e){t.auditMoney=e},expression:"auditMoney"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){return t.cancleApply("cancle")}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"拒绝申请",visible:t.denyVisible,width:"30%"},on:{"update:visible":function(e){t.denyVisible=e}}},[o("span",[t._v("确定要拒绝该申请吗？")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.denyVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.confirmDeny}},[t._v("确 定")])],1)])],1)},n=[],i=o("5c96"),l=o("90fe"),s={components:{"el-table":i["Table"],"el-table-column":i["TableColumn"],"el-button":i["Button"],"el-dialog":i["Dialog"],"el-form":i["Form"],"el-input":i["Input"],"el-form-item":i["FormItem"]},data:function(){return{userId:this.$route.query.userId||"",orderList:[],dialogVisible:!1,formData:{},denyVisible:!1,type:"",auditMoney:""}},created:function(){this.getData()},methods:{add:function(t){this.$router.push("/admin/home/huankuan?userId=".concat(t.user_id,"&orderId=").concat(t.order_id,"&period=").concat(t.periods))},confirmDeny:function(){},handleClose:function(){this.dialogVisible=!1},cancleApply:function(){this.dialogVisible=!1},submitForm:function(){var t=this;return this.auditMoney?this.auditMoney>=this.formData.amount?(Object(l["c"])({that:this,msg:"审批金额大于借款金额",time:2e3}),!1):void this.$service.get("/admin/order/audit",{orderId:this.formData.order_id,auditStatus:this.type,auditMoney:this.auditMoney,adminToken:this.$Cookies.get("adminToken")},!0).then(function(e){0===e.code?(Object(l["c"])({that:t,msg:"审批成功",time:2e3}),t.getData()):Object(l["c"])({that:t,msg:e.msg,time:2e3}),t.dialogVisible=!1,t.auditMoney="",t.type=""}).catch(function(){}):(Object(l["c"])({that:this,msg:"请输入正确的审批金额",time:2e3}),!1)},getData:function(){var t=this;this.$service.post("/admin/order",{userId:this.userId,adminToken:this.$Cookies.get("adminToken")},!0).then(function(e){t.orderList=e.data.orderList}).catch(function(){})},shenheApply:function(t,e){1===e?this.dialogVisible=!this.dialogVisible:this.denyVisible=!this.denyVisible,this.type=e,this.formData=t}}},r=s,u=(o("ef6e"),o("2877")),c=Object(u["a"])(r,a,n,!1,null,"5a02a6de",null);e["default"]=c.exports},"90fe":function(t,e,o){"use strict";o.d(e,"a",function(){return a}),o.d(e,"c",function(){return n}),o.d(e,"b",function(){return i});o("a481");function a(t){return new Promise(function(e){var o=t.that,a=t.url,n=void 0===a?"/login":a,i=t.mobile,l=t.password;o.$service.post(n,{mobile:i,password:l},!0).then(function(t){0===t.code&&o.$Cookies.set("token",t.data.token),e(t)})})}function n(t){var e=t.that,o=t.msg,a=t.time,n=void 0===a?2e3:a,i=t.type,l=void 0===i?"txt":i;e.toast=e.$createToast({txt:o,type:l,time:n}),e.toast.show()}function i(t){return/\d{11}/.test(t)?t.replace(/(\d{3})(\d{4})(\d{4})/,"$1****$3"):t}},d89d:function(t,e,o){},ef6e:function(t,e,o){"use strict";var a=o("d89d"),n=o.n(a);n.a}}]);
//# sourceMappingURL=chunk-4a32ab62.b279ab55.js.map